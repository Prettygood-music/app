FROM postgres:15-alpine

# Install pgTAP dependencies that will be needed at runtime
RUN apk add --no-cache \
    perl

# Set PostgreSQL environment variables
ENV POSTGRES_PASSWORD postgres
ENV POSTGRES_USER postgres
ENV POSTGRES_DB prettygood_test

# Copy initialization scripts
COPY ./init-pgtap-simple.sh /docker-entrypoint-initdb.d/
